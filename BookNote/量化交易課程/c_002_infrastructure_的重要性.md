# Infrastructure 的重要性

## Infrastructure

數據源：
- 逐筆交易數據 (tick data)
- 高開低收數據 (OHLC data)
- 快照數據 (snapshot data)

資料庫：
- csv,json

回測平台：
- python
- java
- c++

基礎建設和策略研發一樣重要
一定要自己研發,不要使用三方平台
第三方平台限制太多,無法完成一些策略

## 回測平台

回測平台：
- 輸入規則
- 讀取歷史數據
- 執行規則
- 輸出結果

回測平台核心代碼
- 面向對象,多線程

## 回測平台開發

## 回測結果可視化
- Reat.js
- python
  - Streamlit

重點：
- 時間軸要同步
- 價格和 PNL 要寫在上面或下面

要畫出每個交易點

## 多線程與枚舉
- 過擬合無法避免,但可以降低

![picture 1](https://i.imgur.com/mAd0YKR.png)  

把該要並行計算的東西都並行計算
- 使用對多線程支持兩好的編程語言
- 歷史資料等多次宗用資料要放在 singleton 中
  - 因為歷史資料很大,如果沒放,可能會造成內存不夠
- 盡可能並行

![picture 2](https://i.imgur.com/MEfxmg3.jpg)  

線程池並行

單純靠枚舉取得的策略通常是嚴重過擬合的

策略：
- 練習：嘗試通過枚舉來獲得策略中的參數
  - 找到好的PNL
- 代碼量
  - 寫得完善 -> 全職 3 週
  - 簡單版 -> 幾天

## 開發時間的技巧安排

工作量：代碼分為三個層次
- 單個策略回測 (必要)
- 多線程,多參數枚舉 (非必要)
- GUI, 圖像化介面 (非必要)

在工作中逐漸實現